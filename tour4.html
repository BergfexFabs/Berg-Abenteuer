<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Kleiner und Großer Sonnstein | Meine Bergabenteuer</title>
  <link rel="stylesheet" href="style.css">
</head>
<body class="Sonnstein">   <!-- durch class= wird das Hintergrundbild auf der Geisswandseite abgeändert, Klasse muss im style konfiguriert sein-->
  <!-- Header -->
  <header>
    <h1>Kleiner und Großer Sonnstein</h1>
    <nav>
      <a href="index.html">Start</a>
      <a href="touren.html" aria-current="page">Tourenberichte</a>
      <!--<a href="galerie.html">Galerie</a>-->
      <a href="about.html">Über mich</a>
    </nav>
    <!-- Leaflet CSS -->
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    />

    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

    <!-- GPX Plugin -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-gpx/1.7.0/gpx.min.js"></script>
  </header>

  <!-- Hauptinhalt -->
  <main>
    <!--<h2>Tour 1 – Hochkönig</h2>   so wird eine Überschrift 2. Ordnung geschrieben, mit h3 wird es zu einer 3. Ordnung--> 
    <!-- <p></p> so wird eine normale Zeile eingefügt -->
    <!--<h3>Katzenstein via Grünberg</h3>-->
    
   <section class="info-box">
      <h3>Route</h3>
      <ol>
        <li>
          <strong>Aufstieg zum Kleinen Sonnstein (923 m):</strong><br>
          Start in Traunkirchen-Siegesbach bei der Brücke. Steiler Waldpfad über viele Stufen,
          vorbei am Bildstock „Dreifaltigkeit“, weiter zur Sonnsteinhütte und in wenigen Minuten zum Gipfel.
        </li>
        <li>
          <strong>Übergang zum Großen Sonnstein (1.037 m):</strong><br>
          Markierter Steig über den Grat, teilweise ausgesetzt.
        </li>
        <li>
          <strong>Abstieg nach Siegesbach:</strong><br>
          Abstieg nach Norden, dann durch den Wald zurück auf den bekannten Aufstiegsweg.
        </li>
      </ol>
    </section>
    
    
    <!-- Weitere Details / Highlights -->
    <section>
      <h4>Details der Tour</h4>
      <ul>
        <li>Parkmöglichkeit: Siegesbach 17, 4801 Traunkirchen</li>
        <li>Höhenmeter: 820 m</li>
        <li>Länge: 3.5 km</li>
        <li>Dauer Fortgeschritten: 1.5 Stunden</li>
        <li>Dauer Anfänger: 2.5 Stunden</li>
        <li>Schwierigkeit: mittel, Trittsicherheit erforderlich</li>
        <li>Beste Jahreszeit: Frühling - Herbst</li>
        <li>Einkehrmöglichkeit: Sonnsteinhütte</li>
      </ul>
    </section>
    <!-- --------------------------------------------------------------- Tag2 --------------------------->

    <!-- ------------------------------------------------------ Karte------------------------------------------->    
    <!-- Start einfügen GPX Datei </-->
   <section>
     <h4>Kartenansicht</h4>
     <div id="map" style="height: 400px; width: 100%; border-radius: 12px;"></div>

     <script>
       // Karte initialisieren
       const map = L.map('map');

       // OpenStreetMap Tiles
       L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
         attribution: '&copy; OpenStreetMap-Mitwirkende'
       }).addTo(map);

       // Alle geladenen Bounds sammeln
       const group = new L.featureGroup();

       // Mehrere GPX-Dateien einbinden
       const tracks = [
         "assets/Sonnstein/Sonnstein.gpx"
       ];

       tracks.forEach(file => {
         new L.GPX(file, { async: true,marker_options: {startIconUrl: '',  // kein Start-Icon
    																										endIconUrl: '',    // kein End-Icon
    																									shadowUrl: ''  }    // kein Schatten
  											 })
           .on('loaded', function(e) {
             group.addLayer(e.target); // jeden Track zur FeatureGroup hinzufügen
             map.fitBounds(group.getBounds()); // Karte auf alle Tracks anpassen
           })
           .addTo(map);
       });
     </script>
   </section>
    <!-- Ende einfügen GPS Datei </-->
    <!-- ------------------------------------------------------ Button zum Download der GPX-Datei------------------------------------------->  
    <!-- es wird 1 Button angezeigt -->
 <h4>Downloads</h4>
  <div class="download-container">
    <a href="assets/Sonnstein/Sonnstein.gpx" download class="download-btn">GPX</a>
    <a href="assets/Sonnstein/Sonnstein.kml" download class="download-btn">KML</a>
  </div>
    
    <!-- ------------------------------------------------------ Bilder------------------------------------------>  

    <section>
      <h4>Galerie</h4>
      <button id="openGallery">Galerie öffnen</button>
      <div id="gallery" class="hidden"></div>
    </section>
    
   <script>
      const gallery = document.getElementById('gallery');
      const button = document.getElementById('openGallery');

      button.addEventListener('click', async () => {
          if (!gallery.dataset.loaded) {  // Bilder nur einmal laden
              const response = await fetch('assets/Sonnstein/images.json');
              const images = await response.json();

              images.forEach(src => {
                  const img = document.createElement('img');
                  img.src = src;
                  img.alt = "Tourbild";
                  gallery.appendChild(img);
              });
              gallery.dataset.loaded = true;
          }
          gallery.classList.toggle('hidden'); // zeigt/versteckt Galerie
      });
   </script>
    
    <!-- ------------------------------------------------------ Ende-------------------------------------------> 
    <!-- Button zurück zur Tourenübersicht -->
    <div class="tour-liste">
      <a class="btn" href="touren.html">Zurück zu allen Touren</a>
    </div>
  </main>

  <!-- Footer -->
  <footer>
    <p>&copy; 2025 – Meine Bergabenteuer</p>
  </footer>
</body>
</html>
