<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Katzenstein via Grünberg | Meine Bergabenteuer</title>
  <link rel="stylesheet" href="style.css">
</head>
<body class="katzenstein">   <!-- durch class= wird das Hintergrundbild auf der Geisswandseite abgeändert, Klasse muss im style konfiguriert sein-->
  <!-- Header -->
  <header>
    <h1>Katzenstein via Grünberg</h1>
    <nav>
      <a href="index.html">Start</a>
      <a href="touren.html" aria-current="page">Tourenberichte</a>
      <!--<a href="galerie.html">Galerie</a>-->
      <a href="about.html">Über mich</a>
    </nav>
    <!-- Leaflet CSS -->
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    />

    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

    <!-- GPX Plugin -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-gpx/1.7.0/gpx.min.js"></script>
  </header>

  <!-- Hauptinhalt -->
  <main>
    <!--<h2>Tour 1 – Hochkönig</h2>   so wird eine Überschrift 2. Ordnung geschrieben, mit h3 wird es zu einer 3. Ordnung--> 
    <!-- <p></p> so wird eine normale Zeile eingefügt -->
    <!--<h3>Katzenstein via Grünberg</h3>-->
    
    <p>Ausgangs und Endpunkt ist der Parkplatz der Grünbergbahn. Dies ist ein Gebührenpflichtiger Parkplatz.</p>
    <p>Über den Ortnersteig geht es auf den Grünberg.</p>
    <p>Dort angekommen geht es großteils über Schotterstraßen abwärts zum Laudachsee, wo es auch eine bewirtschaftete Hütte gibt.</p>
    <p>Nach einigen Wegmetern entlang des Sees kommt man zu einer Weggabelung, bei der man nach rechts zum Katzenstein abbiegen muss.</p>
    <p>Ab hier wird es steiler und es kommen auch einige Seilversicherte Stellen die aber nicht allzu schwierig sind. Grundsätzlich handelt es sich aber ab hier um eine schwarz markierte Route.</p>
    <p>Nach einigen Minuten kommt man erneut zu einer Weggabelung über die auch die Moaralm erreicht werden kann.</p>
    <p>Es wird kurz etwas gemütlicher bevor es erneut steiler und felsiger wird.</p>
    <p>Am Gipfel angekommen wird man mit einem herrlichen Ausblick auf den Laudachsee, den Traunstein und die weiteren umliegenden Berge belohnt.</p>
    <p>Nach der Gipfelpause geht es wieder talwärts zum Laudachsee und weiter Richtung Traunsee Ostufer.</p>
    <p>Nachdem das erste Waldstück, welches über einen Wanderweg durchquert wurde, geschafft ist und man erneut auf eine Schotterstraße kommt geht es
    	nicht nach links weiter Richtung Ostufer sondern man nimmt die Forststraße Richtung rechts.</p>
    <p>Dieser folgt man dann so lange bis man den Ortnersteig kreuzt.</p>
    <p>Ab da geht es wieder über den Ortnersteig talwärts bis man wieder bei der Grünbergbahn angelangt ist.</p>
    
    
    <!-- Weitere Details / Highlights -->
    <section>
      <h4>Details der Tour</h4>
      <ul>
        <li>Höhenmeter: 1350 m</li>
        <li>Länge: 18.2 km</li>
        <li>Dauer Trailrunning: 3.5 - 4 Stunden</li>
        <li>Dauer Wandern: 6 - 8 Stunden</li>
        <li>Schwierigkeit: schwierig</li>
        <li>Beste Jahreszeit: Frühling, Sommer, Herbst</li>
      </ul>
    </section>
    <!-- --------------------------------------------------------------- Tag2 --------------------------->

    <!-- ------------------------------------------------------ Karte------------------------------------------->    
    <!-- Start einfügen GPX Datei </-->
   <section>
     <h4>Kartenansicht</h4>
     <div id="map" style="height: 400px; width: 100%; border-radius: 12px;"></div>

     <script>
       // Karte initialisieren
       const map = L.map('map');

       // OpenStreetMap Tiles
       L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
         attribution: '&copy; OpenStreetMap-Mitwirkende'
       }).addTo(map);

       // Alle geladenen Bounds sammeln
       const group = new L.featureGroup();

       // Mehrere GPX-Dateien einbinden
       const tracks = [
         "assets/Katzenstein/Katzenstein.gpx"
       ];

       tracks.forEach(file => {
         new L.GPX(file, { async: true,marker_options: {startIconUrl: '',  // kein Start-Icon
    																										endIconUrl: '',    // kein End-Icon
    																									shadowUrl: ''  }    // kein Schatten
  											 })
           .on('loaded', function(e) {
             group.addLayer(e.target); // jeden Track zur FeatureGroup hinzufügen
             map.fitBounds(group.getBounds()); // Karte auf alle Tracks anpassen
           })
           .addTo(map);
       });
     </script>
   </section>
    <!-- Ende einfügen GPS Datei </-->
    <!-- ------------------------------------------------------ Button zum Download der GPX-Datei------------------------------------------->  
    <!-- es wird 1 Button angezeigt -->
 <h4>Downloads</h4>
  <div class="download-container">
    <a href="assets/Katzenstein/Katzenstein.gpx" download class="download-btn">GPX Tag 1</a>
    <a href="assets/Katzenstein/Katzenstein.kml" download class="download-btn">KML Tag 1</a>
  </div>
    
    <!-- ------------------------------------------------------ Bilder------------------------------------------>  

<!-- ------------------------------------------------------ Bilder------------------------------------------>  
<section>
  <h4>Galerie</h4>
  <button id="openGallery">Galerie öffnen</button>
  <div id="gallery" class="hidden gallery-grid"></div>
</section>

<!-- Lightbox -->
<div id="lightbox" class="lightbox">
  <span class="close">&times;</span>
  <img class="lightbox-content" id="lightbox-img">
</div>

<!-- JS am Ende des Bodys einfügen -->
<script>
const gallery = document.getElementById('gallery');
const button = document.getElementById('openGallery');
const lightbox = document.getElementById('lightbox');
const lightboxImg = document.getElementById('lightbox-img');
const closeBtn = document.querySelector('.close');

button.addEventListener('click', async () => {
    if (!gallery.dataset.loaded) {  // Bilder nur einmal laden
        const response = await fetch('assets/Katzenstein/images.json');
        const images = await response.json();

        images.forEach(src => {
            const img = document.createElement('img');
            img.src = src;
            img.alt = "Tourbild";

            // Klick auf Bild öffnet Lightbox
            img.addEventListener('click', () => {
                lightbox.style.display = 'block';
                lightboxImg.src = img.src;
            });

            gallery.appendChild(img);
        });
        gallery.dataset.loaded = true;
    }
    gallery.classList.toggle('hidden'); // zeigt/versteckt Galerie
});

// Lightbox schließen
closeBtn.addEventListener('click', () => {
    lightbox.style.display = 'none';
});

// Auch schließen, wenn man außerhalb des Bildes klickt
lightbox.addEventListener('click', (e) => {
  if (e.target === lightbox) {
    lightbox.style.display = 'none';
  }
});
</script>

    
    <!-- ------------------------------------------------------ Ende-------------------------------------------> 
    <!-- Button zurück zur Tourenübersicht -->
    <div class="tour-liste">
      <a class="btn" href="touren.html">Zurück zu allen Touren</a>
    </div>
  </main>

  <!-- Footer -->
  <footer>
    <p>&copy; 2025 – Meine Bergabenteuer</p>
  </footer>
</body>
</html>
